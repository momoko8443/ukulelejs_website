/*! ukulelejs 2015-12-01 */
!function(){function elementChangedBinder(a,b,c,d){for(var e=[inputTextCase,textareaCase,selectCase,checkboxCase,radioCase],f=0;f<e.length;f++){var g=e[f],h=g.apply(this,arguments);if(h)break}}function inputTextCase(a,b,c,d){var e=a.tagName;if("INPUT"===e&&isSupportInputType(a)&&"value"===b){var f="change",g=a.getAttribute("type");return"text"===g&&(f="input"),a.addEventListener(f,function(e){var f=a.getAttribute("uku-"+b);f=UkuleleUtil.getFinalAttribute(f);for(var g=f.split("."),h=c.controllerInstance,i=0;i<g.length-1;i++)h=h[g[i]];h[g[g.length-1]]=a.value,d&&d(c.alias,a)}),!0}return!1}function isSupportInputType(a){var b=a.getAttribute("type");return"checkbox"!==b&&"radio"!==b?!0:!1}function textareaCase(a,b,c,d){var e=a.tagName;return"TEXTAREA"===e&&"value"===b?(a.addEventListener("input",function(e){var f=a.getAttribute("uku-"+b);f=UkuleleUtil.getFinalAttribute(f);for(var g=f.split("."),h=c.controllerInstance,i=0;i<g.length-1;i++)h=h[g[i]];h[g[g.length-1]]=a.value,d&&d(c.alias,a)}),!0):!1}function selectCase(a,b,c,d){var e=a.tagName;return"SELECT"===e&&"selected"===b?(a.addEventListener("change",function(e){var f,g=a.getAttribute("uku-"+b),h=g.split("|");g=h[0],f=h[1],g=UkuleleUtil.getFinalAttribute(g);for(var i=g.split("."),j=c.controllerInstance,k=0;k<i.length-1;k++)j=j[i[k]];for(var l=a.querySelectorAll("option"),m=0;m<l.length;m++){var n=l[m];if(n.selected){var o=JSON.parse(n.getAttribute("data-item"));j[i[i.length-1]]=o}}d&&d(c.alias,a)}),!0):!1}function checkboxCase(a,b,c,d){var e=a.tagName;return"INPUT"===e&&"value"===b&&"checkbox"===a.getAttribute("type")?(a.addEventListener("change",function(e){var f=a.getAttribute("uku-"+b);f=UkuleleUtil.getFinalAttribute(f);for(var g=f.split("."),h=c.controllerInstance,i=0;i<g.length-1;i++)h=h[g[i]];h[g[g.length-1]]=a.checked,d&&d(c.alias,a)}),!0):!1}function radioCase(a,b,c,d){var e=a.tagName;return"INPUT"===e&&"selected"===b&&"radio"===a.getAttribute("type")?(a.addEventListener("change",function(e){var f=a.getAttribute("uku-"+b);f=UkuleleUtil.getFinalAttribute(f);for(var g=f.split("."),h=c.controllerInstance,i=0;i<g.length-1;i++)h=h[g[i]];a.checked&&(h[g[g.length-1]]=a.value,d&&d(c.alias,a))}),!0):!1}function Ukulele(){"use strict";function runDirtyChecking(a,b){function c(a){var c=controllersDefinition[a];if(!c)return void(self.parentUku&&self.parentUku.refresh(a));for(var d=c.controllerInstance,e=copyControllers[a],f=0;f<c.boundItems.length;f++){var g=c.boundItems[f],h=g.attributeName;if(e){"selected"===g.ukuTag&&(h=h.split("|")[0]);var i=UkuleleUtil.getFinalValue(self,d,h),j=UkuleleUtil.getFinalValue(self,e,h);if(!ObjectUtil.compare(j,i)){h=g.attributeName;for(var k=c.getBoundItemsByName(h),l=0;l<k.length;l++){var m=k[l];m.element!==b&&m.render(d)}self.refreshHandler&&self.refreshHandler.call(self)}}}copyControllerInstance(d,a)}if(a){if("string"==typeof a)c(a);else if(ObjectUtil.isArray(a))for(var d=0;d<a.length;d++)c(a[d])}else for(var e in controllersDefinition)c(e)}function copyAllController(){for(var a in controllersDefinition){var b=controllersDefinition[a],c=b.controllerInstance;copyControllerInstance(c,a)}}function copyControllerInstance(a,b){var c=ObjectUtil.deepClone(a);delete copyControllers[b],copyControllers[b]=c}function analyizeElement(a){function b(a){for(var b in componentsDefinition)if(a.localName===b)return b;return null}function c(a){function d(a,b,d,e){var f="cc_"+Math.floor(1e4*Math.random()).toString();b=b.replace(new RegExp("cc.","gm"),f+"."),a.insertAdjacentHTML("beforeBegin",b);var g=a.previousElementSibling,h=new d(self);h._dom=g,h.fire=function(a,b){var c=document.createEvent("HTMLEvents");c.initEvent("on"+a.toLowerCase(),!0,!0),c.data=b,h._dom.dispatchEvent(c)},self.registerController(f,h);for(var i=0;i<e.length;i++){var j=e[i];if(0!==UkuleleUtil.searchUkuAttrTag(j.nodeName))g.setAttribute(j.nodeName,j.nodeValue);else{var k=UkuleleUtil.getAttrFromUkuTag(j.nodeName,!0),l=getBoundControllerModelByName(j.nodeValue);if(l){var m=new BoundItemComponentAttribute(j.nodeValue,k,h,self);l.addBoundItem(m),m.render(l.controllerInstance)}}}a.parentNode.removeChild(a);for(var n=0;n<g.children.length;n++){var o=g.children[n];c(o)}return h.fire("createCompleted"),g}var e=b(a);if(e){if(!UkuleleUtil.isRepeat(a)&&!UkuleleUtil.isInRepeat(a)){var f=a.attributes,g=componentsDefinition[e];a=d(a,g.template,g.controllerClazz,f)}}else for(var h=0;h<a.children.length;h++){var i=a.children[h];c(i)}return a}function d(a,b){function c(a){function f(a,b){var c=a.getAttribute("uku-onload");c&&(b?getBoundAttributeValue(c,[b]):getBoundAttributeValue(c,[a]))}function g(a,b){var c=b.split("|");if(c&&2===c.length){var d=c[0],e=c[1];return a=a.replace(new RegExp(d,"gm"),e)}return a}var h=e[a],i=h.getAttribute("load");if("false"===i)a++,a<e.length?c(a):b();else{var j=h.getAttribute("src"),l=h.getAttribute("replace"),m=h.getAttribute("replace-controller"),n=new Ajax;l&&"true"===l?!function(h){n.get(j,function(i){m&&(i=g(i,m)),h.insertAdjacentHTML("beforeBegin",i);var j=h.previousElementSibling;h.parentNode.removeChild(h),k.push({func:f,args:[h,j]}),d(j,function(){a++,a<e.length?c(a):b()})})}(h):!function(h){n.get(j,function(i){m&&(i=g(i,m)),h.insertAdjacentHTML("afterBegin",i),h.classList.remove("uku-include"),k.push({func:f,args:[h]}),d(h,function(){a++,a<e.length?c(a):b()})})}(h)}}var e=a.querySelectorAll(".uku-include"),f=0;f<e.length?c(f):b()}function e(a){-1!==UkuleleUtil.searchUkuExpTag(Selector.directText(a))&&(UkuleleUtil.isRepeat(a)||UkuleleUtil.isInRepeat(a)||f(a));for(var b=0;b<a.children.length;b++)e(a.children[b])}function f(a){var b=Selector.directText(a);if(-1!==UkuleleUtil.searchUkuExpTag(b)){var c=b.slice(2,-2),d=getBoundControllerModelByName(c);if(d){var e=new BoundItemExpression(c,b,a,self);d.addBoundItem(e),e.render(d.controllerInstance)}}}function g(a,b){var c=a.getAttribute("uku-"+b),d=(a.tagName,getBoundControllerModelByName(c));if(d){var e=new BoundItemAttribute(c,b,a,self);d.addBoundItem(e),e.render(d.controllerInstance),elementChangedBinder(a,b,d,runDirtyChecking)}}function h(a){var b=a.getAttribute("uku-text");if(b){var c=getBoundControllerModelByName(b);if(c){var d=new BoundItemInnerText(b,a,self);c.addBoundItem(d),d.render(c.controllerInstance)}}}function i(a,b){var c=a.getAttribute("uku-"+b),d=b.substring(2),e=getBoundControllerModelByName(c);if(e){var f,g=e.controllerInstance,h=c.split(".");f="parent"===h[0]?h[1]:h[0],a.addEventListener(d,function(b){copyControllerInstance(g,f),getBoundAttributeValue(c,arguments),runDirtyChecking(f,a)})}}function j(a){var b=a.getAttribute("uku-repeat"),c=b.split(" in "),d=c[0],e=c[1],f=getBoundControllerModelByName(e);if(f){var g=f.controllerInstance,h=new BoundItemRepeat(e,d,a,self);f.addBoundItem(h),h.render(g)}}var k=[];d(a,function(){function b(a){for(var b=[],c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1!==d.nodeName.search("uku-on")?b.push(d):b.unshift(d)}return b}a=c(a);var d=[],f=Selector.fuzzyFind(a,"uku-");f&&d.push(f);for(var l=a.querySelectorAll("*"),m=0;m<l.length;m++){var n=l[m],o=Selector.fuzzyFind(n,"uku-");o&&!UkuleleUtil.isInRepeat(o)&&d.push(o)}e(a);for(var p=0;p<d.length;p++)for(var q=d[p],r=b(q),s=0;s<r.length;s++){var t=r[s];if(UkuleleUtil.searchUkuAttrTag(t.nodeName)>-1){var u=t.nodeName.split("-");u.shift();var v=u.join("-");"application"!==v&&(0===v.search("on")?UkuleleUtil.isRepeat(q)||UkuleleUtil.isInRepeat(q)||i(q,v):-1!==v.search("repeat")?j(q):UkuleleUtil.isRepeat(q)||UkuleleUtil.isInRepeat(q)||("text"!==v?g(q,v):h(q)))}}for(copyAllController();k.length>0;){var w=k.pop();w.func.apply(this,w.args)}self.refreshHandler&&self.refreshHandler.call(self),self.initHandler&&self.initHandler.call(self,a)})}function getBoundControllerModelByName(a){var b=UkuleleUtil.getBoundModelInstantName(a),c=controllersDefinition[b];if(!c){var d=a.split("."),e=d[0];if("parent"===e&&self.parentUku)return d.shift(),a=d.join("."),self.parentUku.getControllerModelByName(a)}return c}function getBoundAttributeValue(a,b){var c=getBoundControllerModelByName(a),d=c.controllerInstance,e=UkuleleUtil.getFinalValue(self,d,a,b);return e}function manageApplication(){var a=document.querySelectorAll("[uku-application]");if(1!==a.length)throw new Error("Only one 'uku-application' can be declared in a whole html.");analyizeElement(a[0])}var controllersDefinition={},componentsDefinition={},copyControllers={},self=this;this.refreshHandler=null,this.initHandler=null,this.parentUku=null,this.getComponentsDefinition=function(){return componentsDefinition},this.setComponentsDefinition=function(a){componentsDefinition=a},this.init=function(){ajaxCounter>0?setTimeout(this.init,200):manageApplication()},this.registerController=function(a,b){var c=new ControllerModel(a,b);b._alias=a,controllersDefinition[a]=c},this.dealWithElement=function(a){analyizeElement(a)},this.loadIncludeElement=function(a){"false"===a.getAttribute("load")&&(a.setAttribute("load",!0),analyizeElement(a.parentNode))},this.getControllerModelByName=function(a){return getBoundControllerModelByName(a)},this.refresh=function(a){runDirtyChecking(a)},this.getFinalValueByExpression=function(a){var b=this.getControllerModelByName(a).controllerInstance;return UkuleleUtil.getFinalValue(this,b,a)};var ajax,ajaxCounter=0;this.registerComponent=function(tag,templateUrl){ajax||(ajax=new Ajax),ajaxCounter++,ajax.get(templateUrl,function(result){var componentTemplate=UkuleleUtil.getInnerHtml(result,"template"),script=UkuleleUtil.getInnerHtml(result,"script");script="("+script+")";var controllerClazz=eval(script),newComp=new ComponentModel(tag,componentTemplate,controllerClazz);componentsDefinition[tag]=newComp,ajaxCounter--})}}function Ajax(){}function Selector(){}function BoundItemAttribute(a,b,c,d){BoundItemBase.call(this,a,c,d),this.ukuTag=b}function BoundItemBase(a,b,c){"use strict";this.attributeName=a,this.element=b,this.uku=c}function BoundItemComponentAttribute(a,b,c,d){BoundItemBase.call(this,a,null,d),this.ukuTag=b,this.componentController=c}function BoundItemExpression(a,b,c,d){BoundItemBase.call(this,a,c,d),this.expression=b}function BoundItemInnerText(a,b,c){BoundItemBase.call(this,a,b,c),this.tagName="text"}function BoundItemRepeat(a,b,c,d){BoundItemBase.call(this,a,c,d),this.expression=b,this.renderTemplate=c.outerHTML,this.parentElement=c.parentNode,this.beginCommentString=void 0,this.endCommentString=void 0}function ComponentModel(a,b,c){"use strict";this.tagName=a,this.template=b,this.controllerClazz=c}function ControllerModel(a,b){"use strict";this.alias=a,this.controllerInstance=b,this.boundItems=[]}function ObjectUtil(){}function UkuleleUtil(){"use strict"}"function"==typeof define&&define.amd?define("Ukulele",[],function(){return Ukulele}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=Ukulele),exports.Ukulele=Ukulele):window.Ukulele=Ukulele,Ajax.prototype.get=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b(d.responseText):c&&c())},d.open("GET",a,!0),d.send(null)},Selector.fuzzyFind=function(a,b){if(a&&a.attributes)for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];if(d.nodeName.search(b)>-1)return a}return null},Selector.directText=function(a,b){for(var c="",d=a.childNodes,e=0;e<=d.length-1;e++){var f=d[e];if(3===f.nodeType){if(b||""===b||0===b||b===!1)return void(f.nodeValue=b);c+=f.nodeValue}}return c.trim()},Selector.parents=function(a){for(var b=[];a.parentNode&&"BODY"!==a.parentNode.tagName;)b.push(a.parentNode),a=a.parentNode;return b},BoundItemAttribute.prototype=new BoundItemBase,BoundItemAttribute.prototype.constructor=BoundItemAttribute,BoundItemAttribute.prototype.render=function(a){var b,c=this.attributeName,d=this.element.tagName;if("selected"===this.ukuTag&&"SELECT"===d){var e=this.attributeName.split("|");c=e[0],b=e[1]}var f=UkuleleUtil.getFinalValue(this.uku,a,c);if(-1!==this.ukuTag.search("data-item"))f=JSON.stringify(f),this.element.setAttribute("data-item",f);else if("selected"===this.ukuTag&&"SELECT"===d){var g;g=b?f[b]:f,this.element.value=g}else if("checkbox"===this.element.getAttribute("type"))this.element.checked=f;else if("value"===this.ukuTag)this.element.value=f;else if("radio"===this.element.getAttribute("type"))this.element.value===f&&this.element.setAttribute("checked",!0);else if("IMG"===this.element.nodeName&&"src"===this.ukuTag)f&&this.element.setAttribute(this.ukuTag,f);else if("style"===this.ukuTag)for(var h in f)this.element.style[h]=f[h];else"disabled"===this.ukuTag?this.element.disabled=f:this.element.setAttribute(this.ukuTag,f)},BoundItemComponentAttribute.prototype=new BoundItemBase,BoundItemComponentAttribute.prototype.constructor=BoundItemComponentAttribute,BoundItemComponentAttribute.prototype.render=function(a){var b=UkuleleUtil.getFinalValue(this.uku,a,this.attributeName);this.componentController[this.ukuTag]=b,this.uku.refresh(this.componentController._alias)},BoundItemExpression.prototype=new BoundItemBase,BoundItemExpression.prototype.constructor=BoundItemExpression,BoundItemExpression.prototype.render=function(a){var b=UkuleleUtil.getFinalValue(this.uku,a,this.attributeName);Selector.directText(this.element,b)},BoundItemInnerText.prototype=new BoundItemBase,BoundItemInnerText.prototype.constructor=BoundItemInnerText,BoundItemInnerText.prototype.render=function(a){var b=UkuleleUtil.getFinalValue(this.uku,a,this.attributeName);this.element.innerHTML=b},BoundItemRepeat.prototype=new BoundItemBase,BoundItemRepeat.prototype.constructor=BoundItemRepeat,BoundItemRepeat.prototype.render=function(a){function b(a){return a.nodeValue===e.beginCommentString?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}function c(){var a=UkuleleUtil.searchHtmlTag(e.renderTemplate,"tr");return-1===a?document.createElement("div"):document.createElement("tbody")}var d=UkuleleUtil.getFinalValue(this.uku,a,this.attributeName);if(d){var e=this;if(this.element&&this.element.parentNode){this.beginCommentString="begin uku-repeat: "+this.expression+" in "+this.attributeName;var f=document.createComment(this.beginCommentString);this.element.parentNode.insertBefore(f,this.element),this.endCommentString="end uku-repeat: "+this.expression+" in "+this.attributeName;var g=document.createComment(this.endCommentString);this.element.parentNode.insertBefore(g,this.element.nextSibling),this.element.parentNode.removeChild(this.element)}for(var h=document.createTreeWalker(this.parentElement,NodeFilter.SHOW_COMMENT,b,!1);h.nextNode();){var i=h.currentNode;if(i&&i.nodeValue===this.beginCommentString){for(;i.nextSibling&&i.nextSibling.nodeValue!==this.endCommentString;)i.parentNode.removeChild(i.nextSibling);var j=c(),k=c();i.parentNode.insertBefore(k,i.nextSibling);for(var l=0;l<d.length;l++)if(j.insertAdjacentHTML("beforeEnd",this.renderTemplate),l===d.length-1){var m=j.innerHTML;k.insertAdjacentHTML("beforeBegin",m),i.parentNode.removeChild(k),j=null,k=null}for(var n=i.nextSibling,o=0;o<d.length;o++){n.removeAttribute("uku-repeat");var p=new Ukulele;p.parentUku=this.uku;var q=p.parentUku.getComponentsDefinition();p.setComponentsDefinition(q),p.registerController(this.expression,d[o]);var r=n.nextSibling;p.dealWithElement(n),n=r}}}if("OPTION"===this.element.tagName){var s=this.parentElement.getAttribute("uku-selected"),t=s.split("|");s=t[0],key=t[1];var u=this.uku.getFinalValueByExpression(s);key?this.parentElement.value=u[key]:this.parentElement.value=u}}},ControllerModel.prototype.addBoundItem=function(a){this.boundItems.push(a)},ControllerModel.prototype.getBoundItemsByName=function(a){for(var b=[],c=0;c<this.boundItems.length;c++){var d=this.boundItems[c];d.attributeName===a&&b.push(d)}return b};var observeList={};Object.hasOwnProperty("observe")||(Object.hasOwnProperty("defineProperty")?Object.observe=function(a,b){for(var c in a){var d=a[c];a["_"+c]=a[c],a.hasOwnProperty(c)&&(!function(b,c){Object.defineProperty(a,"_"+c,{writable:!1})}(a,c),function(c,d,e){Object.defineProperty(a,d,{get:function(){return a["_"+d]},set:function(a){this["_"+d]=a;var c={name:d,object:this,type:"update",oldValue:e};b.call(null,[c])}})}(a,c,d))}observeList[observeList]=!0}:console.error("Current browser can't support this site.")),Object.hasOwnProperty("unobserve")||(Object.hasOwnProperty("defineProperty")?Object.unobserve=function(a,b){if(observeList[a]){for(var c in a)a.hasOwnProperty(c)&&-1===c.search("_")&&(delete a[c],a[c]=a["_"+c],delete a["_"+c]);delete observeList[a],b()}}:console.error("Current browser can't support this site.")),ObjectUtil.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},ObjectUtil.getType=function(a){var b=typeof a;return"object"===b&&ObjectUtil.isArray(a)?"array":b},ObjectUtil.compare=function(a,b){var c=ObjectUtil.getType(a),d=ObjectUtil.getType(b),e=!0;if(c!==d)return!1;switch(c){case"object":for(var f in a){var g=a[f],h=b[f],i=ObjectUtil.compare(g,h);if(!i){e=!1;break}}break;case"array":if(a.length===b.length)for(var j=0;j<a.length;j++){var k=a[j],l=b[j],m=ObjectUtil.compare(k,l);if(!m){e=!1;break}}else e=!1;break;case"function":e=a.toString()===b.toString();break;default:e=a===b}return e},ObjectUtil.deepClone=function(a){var b,c,d;if("object"!=typeof a||null===a)return a;if(a instanceof Array)for(b=[],c=0,d=a.length;d>c;c++)"object"==typeof a[c]&&null!==a[c]?b[c]=arguments.callee(a[c]):b[c]=a[c];else{b={};for(c in a)"object"==typeof a[c]&&null!==a[c]&&"_dom"!==c?b[c]=arguments.callee(a[c]):b[c]=a[c]}return b},UkuleleUtil.getFinalAttribute=function(a){var b=a.split("."),c=b.shift();return"parent"===c?UkuleleUtil.getFinalAttribute(b.join(".")):b.join(".")},UkuleleUtil.searchHtmlTag=function(a,b){var c="^<"+b+"[\\s\\S]*>[\\s\\S]*</"+b+">$",d=new RegExp(c),e=a.search(d);return e},UkuleleUtil.getInnerHtml=function(a,b){var c="<"+b+"[\\s\\S]*>[\\s\\S]*</"+b+">",d=new RegExp(c),e=a.match(d);if(e.index>-1){var f=e[0],g=f.search(">"),h=f.substr(g+1),i=h.lastIndexOf("</");return h=h.substring(0,i),h=h.replace(/(^\s*)|(\s*$)/g,""),console.log(h),h}return null},UkuleleUtil.isStringArgument=function(a,b){var c=/^"[\s\S]*"$/,d=a.search(c),e=/^'[\s\S]*'$/;if(0===d)return!0;var f=a.search(e);return 0===f?!0:!1},UkuleleUtil.searchUkuAttrTag=function(a){var b=/^uku\-.*/,c=a.search(b);return c},UkuleleUtil.getAttrFromUkuTag=function(a,b){if(0===UkuleleUtil.searchUkuAttrTag(a)&&(a=a.replace("uku-","")),b){var c=a.split("-");a=c[0];for(var d=1;d<c.length;d++){var e=c[d].charAt(0).toUpperCase();a=a+e+c[d].substr(1)}}return a},UkuleleUtil.searchUkuExpTag=function(a){var b=/^\{\{.*\}\}$/,c=a.search(b);return c},UkuleleUtil.searchUkuFuncArg=function(a){var b=/\(.*\)$/,c=a.search(b);return c},UkuleleUtil.isRepeat=function(a){return a.getAttribute("uku-repeat")?!0:!1},UkuleleUtil.isInRepeat=function(a){for(var b=Selector.parents(a),c=0;c<b.length;c++){var d=b[c],e=d.getAttribute("uku-repeat");if(e)return!0}return!1},UkuleleUtil.getBoundModelInstantName=function(a){var b=a.split(".")[0];return b?b:null},UkuleleUtil.getAttributeFinalValue=function(a,b){var c=UkuleleUtil.getAttributeFinalValueAndParent(a,b),d=c.value;return d},UkuleleUtil.getAttributeFinalValueAndParent=function(a,b){var c,d=a;b=UkuleleUtil.getFinalAttribute(b);var e=b.split(".");if(""!==b&&d)for(var f=0;f<e.length;f++){var g=e[f];if(c=d,d=d[g],void 0===d||null===d)break}return{value:d,parent:c}},UkuleleUtil.getFinalValue=function(a,b,c,d){var e=UkuleleUtil.searchUkuFuncArg(c);if(-1===e)return UkuleleUtil.getAttributeFinalValue(b,c);var f=c.substring(0,e),g=UkuleleUtil.getAttributeFinalValueAndParent(b,f),h=g.value;if(void 0===h)return h;var i=[],j=c.substring(e+1,c.length-1);if(""!==j){var k=UkuleleUtil.isStringArgument(j);j=k?[j]:j.split(",");for(var l=0;l<j.length;l++){var m,n=j[l],o=a.getControllerModelByName(n);if(o&&o.controllerInstance){var p=o.controllerInstance;m=1===n.split(".").length?p:UkuleleUtil.getFinalValue(a,p,n)}else m=UkuleleUtil.getFinalValue(a,b,n);if(m!==b)i.push(m);else{var q=/\'.*\'/,r=n.search(q),s=/\".*\"/,t=n.search(s);-1!==r?(n=n.substring(1,n.length-1),i.push(n)):-1!==t?(n=n.substring(1,n.length-1),i.push(n)):i.push(m)}}}if(d){var u=Array.prototype.slice.call(d);i=i.concat(u)}return h=h.apply(g.parent,i)}}();